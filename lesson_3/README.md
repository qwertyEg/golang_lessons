# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Go  


## üîç –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏  

### 1. **–û—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è**  
–í Go –æ—à–∏–±–∫–∏ —è–≤–ª—è—é—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –∞ –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏. –û–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π –∫–∞–∫ –≤—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.  

```go
func Divide(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("division by zero")
    }
    return a / b, nil
}
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –≤—Ä—É—á–Ω—É—é**  
–û—à–∏–±–∫–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏.  

```go
result, err := Divide(10, 0)
if err != nil {
    log.Fatal("Error:", err)
}
fmt.Println("Result:", result)
```

### 3. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—à–∏–±–∫–∏**  
–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫, —Ä–µ–∞–ª–∏–∑—É—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `error`.  

```go
type MyError struct {
    Code    int
    Message string
}

func (e *MyError) Error() string {
    return fmt.Sprintf("Error %d: %s", e.Code, e.Message)
}
```

### 4. **–û–±—ë—Ä—Ç–∫–∏ –æ—à–∏–±–æ–∫ (Go 1.13+)**  
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—å—é `fmt.Errorf` –∏ `%w`.  

```go
if err != nil {
    return fmt.Errorf("failed to process: %w", err)
}
```

- %w ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ—à–∏–±–∫–∞ err –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å "–∑–∞–≤—ë—Ä–Ω—É—Ç–∞" –≤ –Ω–æ–≤—É—é –æ—à–∏–±–∫—É.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∑–∂–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ errors.Is() –∏–ª–∏ errors.As().


–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

- –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫ –æ—à–∏–±–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "failed to process").
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –æ—à–∏–±–∫—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

–ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ—à–∏–±–∫—É –≤ fmt.Errorf() –±–µ–∑ %w, —Ç–æ:

- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è ‚Äî –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—ë —Ç–µ–∫—Å—Ç, –Ω–æ —Ç–∏–ø –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å—á–µ–∑–Ω—É—Ç.
- errors.Is() –∏ errors.As() –Ω–µ —Å–º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –æ—à–∏–±–∫—É.

### 5. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**  
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `errors.Is` –∏ `errors.As`.  

```go
if errors.Is(err, os.ErrNotExist) {
    fmt.Println("File not found!")
}

var myErr *MyError
if errors.As(err, &myErr) {
    fmt.Println("Custom error:", myErr.Code)
}
```

- errors.Is() ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
–§—É–Ω–∫—Ü–∏—è errors.Is(err, target) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ª–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –æ—à–∏–±–æ–∫ err –æ—à–∏–±–∫–∞ target.

–ü—Ä–∏–º–µ—Ä:

```go
if errors.Is(err, os.ErrNotExist) {
    fmt.Println("File not found!")
}
```

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –±—ã–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞ err (–∏–ª–∏ –ª—é–±–∞—è –∏–∑ –æ–±—ë—Ä–Ω—É—Ç—ã—Ö –≤ –Ω–µ–π –æ—à–∏–±–æ–∫) —Ç–∏–ø–∞ os.ErrNotExist.
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ —Å –æ–±—ë—Ä–Ω—É—Ç—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è %w).

–†–∞–Ω—å—à–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å —Ç–∞–∫:

```go
if err == os.ErrNotExist { ... }  // –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ —Å –æ–±—ë—Ä–Ω—É—Ç—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏!
```

- errors.As() ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏

–§—É–Ω–∫—Ü–∏—è ```errors.As(err, &target)``` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ—à–∏–±–∫—É ```err``` –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —Ç–∏–ø—É, –∏ –µ—Å–ª–∏ –¥–∞ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ ```target```.

–ü—Ä–∏–º–µ—Ä:

```go
var myErr *MyError
if errors.As(err, &myErr) {
    fmt.Println("Custom error:", myErr.Code)
}
```

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ err (–∏–ª–∏ –ª—é–±–∞—è –∏–∑ –æ–±—ë—Ä–Ω—É—Ç—ã—Ö –æ—à–∏–±–æ–∫) —Ç–∏–ø–æ–º *MyError.
- –ï—Å–ª–∏ –¥–∞ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é myErr (—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –ø–æ–ª—è–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, myErr.Code).

**–ß—Ç–æ —Ç–∞–∫–æ–µ var myErr *MyError?**

- –≠—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∏–ø–∞ MyError (–∫–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Ä–∞–Ω–µ–µ).
- errors.As() —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å (&myErr), —á—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ —Ç–∏–ø—É.

–ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ—à–∏–±–∫–∏:

```go
type MyError struct {
    Code    int
    Message string
}

func (e *MyError) Error() string {
    return fmt.Sprintf("Error %d: %s", e.Code, e.Message)
}
```

### 6. **Panic –∏ Recover**  
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–∞–Ω–∞–ª–æ–≥ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –Ω–æ –Ω–µ –¥–ª—è –æ–±—ã—á–Ω–æ–π –ª–æ–≥–∏–∫–∏).  

```go
func SafeCall() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("Recovered:", r)
        }
    }()
    panic("Something went wrong!")
}
```

üåü **–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –≤ Go:** *"–ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏, –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏—Ö —è–≤–Ω–æ!"*

### üîó –ü—Ä–∏–º–µ—Ä —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ –≤ Go (—Ä–æ–¥–∏—Ç–µ–ª—å –∏ –ø—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—å)  

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä, –≥–¥–µ –æ—à–∏–±–∫–∏ **–≤–ª–æ–∂–µ–Ω—ã –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞** (`—Ä–æ–¥–∏—Ç–µ–ª—å -> –¥–æ—á–µ—Ä–Ω—è—è -> –ø—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—å`), –∏ –∫–∞–∫ –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.  

#### 1. –°–æ–∑–¥–∞—ë–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ—à–∏–±–∫–∏  
```go
import (
    "errors"
    "fmt"
)

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—à–∏–±–∫–∏
var (
    ErrConnectionFailed = errors.New("connection failed")
    ErrTimeout         = errors.New("timeout")
    ErrInvalidData     = errors.New("invalid data")
)
```

#### 2. –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ë—Ä–Ω—É—Ç—É—é –æ—à–∏–±–∫—É  
```go
func fetchData() error {
    // –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    err := ErrConnectionFailed
    return fmt.Errorf("fetchData failed: %w", err)  // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –æ—à–∏–±–∫—É
}

func process() error {
    err := fetchData()
    if err != nil {
        return fmt.Errorf("process failed: %w", err)  // –ï—â—ë –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –æ–±—ë—Ä—Ç–∫–∏
    }
    return nil
}
```

#### 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫  
```go
func main() {
    err := process()

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ —Ü–µ–ø–æ—á–∫–µ ErrConnectionFailed
    if errors.Is(err, ErrConnectionFailed) {
        fmt.Println("–û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞:", ErrConnectionFailed) // –û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞: connection failed
    }

    // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –∏ –ø–µ—á–∞—Ç–∞–µ–º –≤—Å—é —Ü–µ–ø–æ—á–∫—É
    fmt.Println("–ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫:", err) // process failed: fetchData failed: connection failed
}
```
**–í—ã–≤–æ–¥:**  
```
–û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞: connection failed
–ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫: process failed: fetchData failed: connection failed
```

---

### üõ† –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ Go  

#### 1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ (`if err != nil`)**
```go
file, err := os.Open("data.txt")
if err != nil {
    log.Fatal("–û—à–∏–±–∫–∞:", err)  // –õ–æ–≥–∏—Ä—É–µ–º –∏ –∑–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É
}
defer file.Close()  // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
```

#### 2. **`errors.Is()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏**
```go
if errors.Is(err, os.ErrNotExist) {
    fmt.Println("–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω!")
}
```

#### 3. **`errors.As()` ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –∫–∞—Å—Ç–æ–º–Ω–æ–º—É —Ç–∏–ø—É**
```go
var myErr *MyError
if errors.As(err, &myErr) {
    fmt.Println("–ö–æ–¥ –æ—à–∏–±–∫–∏:", myErr.Code)
}
```

#### 4. **`fmt.Errorf("%w")` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```go
if err != nil {
    return fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª: %w", err)
}
```

#### 5. **`panic()` –∏ `recover()` ‚Äî –∞–≤–∞—Ä–∏–π–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏**
```go
func safeCall() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:", r)
        }
    }()
    panic("—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫!")
}
```

---

### üåÄ **`defer` ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã**  
`defer` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è **–ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –∏–∑ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏**, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.  

#### –ü—Ä–∏–º–µ—Ä —Å `defer` –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞:
```go
func readFile() error {
    file, err := os.Open("data.txt")
    if err != nil {
        return err
    }
    defer file.Close()  // –ó–∞–∫—Ä–æ–µ—Ç —Ñ–∞–π–ª –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ readFile()

    // –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª...
    return nil
}
```

#### –ü—Ä–∏–º–µ—Ä —Å `defer` + `recover()`:
```go
func main() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –ø–∞–Ω–∏–∫–∞:", r)
        }
    }()

    panic("–≤—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å!")
}
```

---

### üìå **–°–¥–µ–ª–∞–µ–º –Ω–µ–±–æ–ª—å—à–∏–µ –≤—ã–≤–æ–¥—ã**  
- **–¶–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫** —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `fmt.Errorf("%w")` –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `errors.Is()`/`errors.As()`.  
- **`defer`** –ø–æ–º–æ–≥–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Ñ–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è).  
- **`panic` –∏ `recover`** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, –∞ –Ω–µ –¥–ª—è –æ–±—ã—á–Ω–æ–π –ª–æ–≥–∏–∫–∏.  
- **–û—à–∏–±–∫–∏ –≤ Go ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è**, –∏—Ö –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —è–≤–Ω–æ.  

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ **–Ω–∞–¥—ë–∂–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.


# `defer` –≤ Go –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥


## 1. –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä —Å `defer`

`defer` ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–∫–∞–∑–∞—Ç—å Go: "–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ —Ñ—É–Ω–∫—Ü–∏–∏".

```go
func main() {
    defer fmt.Println("–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º")  // (1)
    fmt.Println("–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º")           // (2)
}
```

–í—ã–≤–æ–¥:
```
–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º
–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º
```

### –ì–¥–µ —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ?
- –ó–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

## 2. –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä: —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–º

```go
package main

import (
    "fmt"
    "os"
)

func main() {
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
    file, err := os.Open("test.txt")
    if err != nil {
        fmt.Println("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª:", err)
        return
    }
    
    // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —Ñ–∞–π–ª –∑–∞–∫—Ä–æ–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
    defer file.Close()
    
    // –†–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∞–π–ª–æ–º...
    fmt.Println("–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã—Ç!")
    
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª
    // file.Read(...)
}
```

### –ß—Ç–æ –≤–∞–∂–Ω–æ:
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫—É (`if err != nil`)
2. –ü–æ—Ç–æ–º —Å—Ç–∞–≤–∏–º `defer` –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞
3. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∞–π–ª–æ–º

## 3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `defer` —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤—ã–∑–æ–≤–∞–º–∏

```go
func main() {
    defer fmt.Println("–ü–µ—Ä–≤—ã–π defer")  // (3)
    defer fmt.Println("–í—Ç–æ—Ä–æ–π defer")  // (2)
    defer fmt.Println("–¢—Ä–µ—Ç–∏–π defer")  // (1)
    
    fmt.Println("–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥")        // (0)
}
```

–í—ã–≤–æ–¥:
```
–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
–¢—Ä–µ—Ç–∏–π defer
–í—Ç–æ—Ä–æ–π defer
–ü–µ—Ä–≤—ã–π defer
```

### –ü—Ä–∞–≤–∏–ª–æ:
- `defer` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Å—Ç–µ–∫–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π)
- –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è LIFO (Last In, First Out)
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π, –ø–µ—Ä–≤—ã–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π (LIFO)
- –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è defer

## 4. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤

### –û—à–∏–±–∫–∞ 1: `defer` –≤ —Ü–∏–∫–ª–µ
```go
for i := 0; i < 5; i++ {
    file, _ := os.Open("file.txt")
    defer file.Close()  // –ü–ª–æ—Ö–æ! –í—Å–µ 5 defer'–æ–≤ –Ω–∞–∫–æ–ø—è—Ç—Å—è
}
```
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
```go
for i := 0; i < 5; i++ {
    func() {
        file, _ := os.Open("file.txt")
        defer file.Close()  // –•–æ—Ä–æ—à–æ ‚Äî –∑–∞–∫—Ä–æ–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
    }()
}
```

### –û—à–∏–±–∫–∞ 2: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
```go
file, _ := os.Open("file.txt")  // –ü–ª–æ—Ö–æ! –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
```
–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –æ—à–∏–±–∫–∏!

## 6. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –æ—à–∏–±–∫–∏ (`if err != nil`)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `defer` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
3. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ `defer` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ return
4. –ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ `defer` –≤ —Ü–∏–∫–ª–∞—Ö
5. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `defer` —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

## 7. –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```go
func copyFile(src, dst string) error {
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª
    srcFile, err := os.Open(src)
    if err != nil {
        return fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª %s: %v", src, err)
    }
    defer srcFile.Close()
    
    // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª
    dstFile, err := os.Create(dst)
    if err != nil {
        return fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª %s: %v", dst, err)
    }
    defer dstFile.Close()
    
    // –ö–æ–ø–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
    _, err = io.Copy(dstFile, srcFile)
    if err != nil {
        return fmt.Errorf("–æ—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: %v", err)
    }
    
    return nil
}
```

–≠—Ç–æ—Ç –∫–æ–¥:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—à–∏–±–æ–∫
2. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏—Ö –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ `defer`
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
4. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ª—É—á–∞–∏


# –§—É–Ω–∫—Ü–∏–∏ –≤ Go

## 1. –û—Å–Ω–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π

–§—É–Ω–∫—Ü–∏—è –≤ Go –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `func`:

```go
func sayHello() {
    fmt.Println("–ü—Ä–∏–≤–µ—Ç!")
}
```

–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:
```go
sayHello() // –í—ã–≤–µ–¥–µ—Ç: –ü—Ä–∏–≤–µ—Ç!
```

## 2. –§—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```go
func greet(name string) {
    fmt.Println("–ü—Ä–∏–≤–µ—Ç,", name)
}

// –í—ã–∑–æ–≤
greet("–ê–Ω–Ω–∞") // –í—ã–≤–µ–¥–µ—Ç: –ü—Ä–∏–≤–µ—Ç, –ê–Ω–Ω–∞
```

## 3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:

```go
func sum(a, b int) int {
    return a + b
}

result := sum(3, 5) // result = 8
```

### –í–æ–∑–≤—Ä–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

–í Go —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π:

```go
func divide(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å")
    }
    return a / b, nil
}

result, err := divide(10, 2)
if err != nil {
    fmt.Println("–û—à–∏–±–∫–∞:", err)
} else {
    fmt.Println("–†–µ–∑—É–ª—å—Ç–∞—Ç:", result)
}
```

## 4. –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∏–º–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º:

```go
func calc(a, b int) (sum int, diff int) {
    sum = a + b
    diff = a - b
    return // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω–µ—Ç sum –∏ diff
}

s, d := calc(10, 5) // s=15, d=5
```

## 5. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏)

–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏–º–µ–Ω–∏:

```go
func main() {
    // –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    func() {
        fmt.Println("–Ø –∞–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è!")
    }()
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    greet := func(name string) {
        fmt.Println("–ü—Ä–∏–≤–µ—Ç,", name)
    }
    
    greet("–ú–∏—Ä") // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
}
```

## 6. –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```go
func applyOperation(a, b int, operation func(int, int) int) int {
    return operation(a, b)
}

func add(x, y int) int {
    return x + y
}

func multiply(x, y int) int {
    return x * y
}

func main() {
    result := applyOperation(3, 4, add)      // 7
    result2 := applyOperation(3, 4, multiply) // 12
}
```

## 7. –í–æ–∑–≤—Ä–∞—Ç —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```go
func makeGreeter(prefix string) func(string) {
    return func(name string) {
        fmt.Println(prefix, name)
    }
}

func main() {
    russianGreet := makeGreeter("–ü—Ä–∏–≤–µ—Ç")
    englishGreet := makeGreeter("Hello")
    
    russianGreet("–ò–≤–∞–Ω") // –í—ã–≤–µ–¥–µ—Ç: –ü—Ä–∏–≤–µ—Ç –ò–≤–∞–Ω
    englishGreet("John") // –í—ã–≤–µ–¥–µ—Ç: Hello John
}
```

## 8. –ó–∞–º—ã–∫–∞–Ω–∏—è (closures)

–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:

```go
func counter() func() int {
    count := 0
    return func() int {
        count++
        return count
    }
}

func main() {
    myCounter := counter()
    fmt.Println(myCounter()) // 1
    fmt.Println(myCounter()) // 2
    fmt.Println(myCounter()) // 3
}
```

## 9. –í–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```go
func sum(numbers ...int) int {
    total := 0
    for _, num := range numbers {
        total += num
    }
    return total
}

func main() {
    fmt.Println(sum(1, 2, 3))       // 6
    fmt.Println(sum(1, 2, 3, 4, 5)) // 15
    
    nums := []int{10, 20, 30}
    fmt.Println(sum(nums...))       // 60
}
```

## 10. –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Å–∞–º–∏ —Å–µ–±—è:

```go
func factorial(n int) int {
    if n == 0 {
        return 1
    }
    return n * factorial(n-1)
}

func main() {
    fmt.Println(factorial(5)) // 120 (5! = 5*4*3*2*1)
}
```

## –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```go
package main

import "fmt"

// –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
func add(a, b int) int {
    return a + b
}

// –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é
func makeMultiplier(factor int) func(int) int {
    return func(x int) int {
        return x * factor
    }
}

func main() {
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    sum := add(3, 5)
    fmt.Println("3 + 5 =", sum)
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-—É–º–Ω–æ–∂–∏—Ç–µ–ª—è
    double := makeMultiplier(2)
    triple := makeMultiplier(3)
    
    fmt.Println("–î–≤–æ–π–Ω–æ–µ –æ—Ç 5:", double(5))   // 10
    fmt.Println("–¢—Ä–æ–π–Ω–æ–µ –æ—Ç 5:", triple(5))   // 15
    
    // –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
    square := func(x int) int {
        return x * x
    }
    fmt.Println("–ö–≤–∞–¥—Ä–∞—Ç 4:", square(4))     // 16
    
    // –†–µ–∫—É—Ä—Å–∏—è
    fmt.Println("–§–∞–∫—Ç–æ—Ä–∏–∞–ª 6:", factorial(6)) // 720
}
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –ø—Ä–æ —Ñ—É–Ω–∫—Ü–∏–∏:
1. –§—É–Ω–∫—Ü–∏–∏ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —Å `func`
2. –ú–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
3. –ú–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π
4. –§—É–Ω–∫—Ü–∏–∏ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å)
5. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
6. –ó–∞–º—ã–∫–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏

# –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–µ–∫—É—Ä—Å–∏—é –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã

## –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏)

–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ.

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:
```go
func main() {
    // –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
    func() {
        fmt.Println("–Ø –∞–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è!")
    }()  // –ö—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏ –≤ –∫–æ–Ω—Ü–µ –æ–∑–Ω–∞—á–∞—é—Ç –≤—ã–∑–æ–≤
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    greet := func(name string) {
        fmt.Println("–ü—Ä–∏–≤–µ—Ç,", name)
    }
    
    greet("–ú–∏—Ä")  // –í—ã–∑–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
1. –ú–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
2. –ú–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
3. –ú–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–º:
```go
func main() {
    sum := func(a, b int) int {
        return a + b
    }
    
    result := sum(3, 5)
    fmt.Println("–°—É–º–º–∞:", result)  // –í—ã–≤–µ–¥–µ—Ç: –°—É–º–º–∞: 8
}
```

## –†–µ–∫—É—Ä—Å–∏—è –≤ Go

–†–µ–∫—É—Ä—Å–∏—è ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è.

### –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä ‚Äî —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª:
```go
func factorial(n int) int {
    // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∫—É—Ä—Å–∏–∏)
    if n == 0 {
        return 1
    }
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π
    return n * factorial(n-1)
}

func main() {
    fmt.Println(factorial(5))  // 120 (5! = 5*4*3*2*1)
}
```

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –æ —Ä–µ–∫—É—Ä—Å–∏–∏:
1. –í—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π** (—É—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞)
2. –ö–∞–∂–¥—ã–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–æ–ª–∂–µ–Ω **—É–ø—Ä–æ—â–∞—Ç—å –∑–∞–¥–∞—á—É**
3. –í Go –Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö–≤–æ—Å—Ç–æ–≤–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤)

### –ü—Ä–∏–º–µ—Ä —Å —á–∏—Å–ª–∞–º–∏ –§–∏–±–æ–Ω–∞—á—á–∏:
```go
func fibonacci(n int) int {
    if n <= 1 {
        return n
    }
    return fibonacci(n-1) + fibonacci(n-2)
}
```

## –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

–í Go —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è **–æ–±—ä–µ–∫—Ç–∞–º–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

1. –§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
2. –§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥—Ä—É–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º
3. –§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

### 1. –§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
```go
func main() {
    // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    var greetFunc func(string) = func(name string) {
        fmt.Println("Hello,", name)
    }
    
    greetFunc("John")  // Hello, John
}
```

### 2. –§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç:
```go
func apply(numbers []int, operation func(int) int) []int {
    result := make([]int, len(numbers))
    for i, v := range numbers {
        result[i] = operation(v)
    }
    return result
}

func main() {
    numbers := []int{1, 2, 3}
    
    // –ü–µ—Ä–µ–¥–∞–µ–º –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
    squared := apply(numbers, func(x int) int {
        return x * x
    })
    
    fmt.Println(squared)  // [1 4 9]
}
```

### 3. –§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
```go
func makeMultiplier(factor int) func(int) int {
    return func(x int) int {
        return x * factor
    }
}

func main() {
    double := makeMultiplier(2)
    triple := makeMultiplier(3)
    
    fmt.Println(double(5))  // 10
    fmt.Println(triple(5))  // 15
}
```

## –ó–∞–º—ã–∫–∞–Ω–∏—è (closures)

–ó–∞–º—ã–∫–∞–Ω–∏—è ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–æ–º–∏–Ω–∞—é—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã.

### –ü—Ä–∏–º–µ—Ä —Å—á–µ—Ç—á–∏–∫–∞:
```go
func counter() func() int {
    count := 0  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏
    return func() int {
        count++
        return count
    }
}

func main() {
    myCounter := counter()
    fmt.Println(myCounter())  // 1
    fmt.Println(myCounter())  // 2
    fmt.Println(myCounter())  // 3
    
    anotherCounter := counter()
    fmt.Println(anotherCounter())  // 1 (–Ω–æ–≤–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∫–æ–ø–∏—è)
}
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏–π:
1. –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

## –û—Ç–ª–∏—á–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤

1. **–ë–æ–ª–µ–µ —è–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏**:
   - –í Python/JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–∂–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –Ω–æ –≤ Go —ç—Ç–æ –±–æ–ª–µ–µ —è–≤–Ω–æ
   - –ù–µ—Ç "–ø–æ–¥–Ω—è—Ç–∏—è" (hoisting) –∫–∞–∫ –≤ JavaScript

2. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**:
   ```go
   var funcVar func(int) int  // –Ø–≤–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
   ```

3. **–ù–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π**:
   - –í Go –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º, –Ω–æ —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**:
   - –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤—Å–µ–≥–¥–∞ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
   - –ù–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–∞–∫ –≤ JavaScript



## –í—ã–≤–æ–¥

–í Go —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ:
- –°–æ–∑–¥–∞–≤–∞—Ç—å –±–µ–∑ –∏–º–µ–Ω–∏ (–∞–Ω–æ–Ω–∏–º–Ω—ã–µ)
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–µ–∫—É—Ä—Å–∏–∏
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç Go –º–æ—â–Ω—ã–º —è–∑—ã–∫–æ–º —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ—Å—Ç–æ—Ç—É –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å.

# –ó–∞–¥–∞—á–∏ –ø–æ Go –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö (—á–∏—Å—Ç—ã–µ –æ—Å–Ω–æ–≤—ã)

## 1. –†–µ–∫—É—Ä—Å–∏—è: –°—É–º–º–∞ —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ N
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `sumToN(n int) int`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ n.

```go
// –í–≤–æ–¥:
sumToN(5)
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
15
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func sumToN(n int) int {
    if n == 1 {
        return 1
    }
    return n + sumToN(n-1)
}
```
</details>

---

## 2. Defer: –ü—Ä–æ—Å—Ç–æ–π –ª–æ–≥–≥–µ—Ä
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `logMessage(msg string)`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∞ —á–µ—Ä–µ–∑ defer –¥–æ–±–∞–≤–ª—è–µ—Ç "[END]".

```go
// –í–≤–æ–¥:
logMessage("–°—Ç–∞—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã")
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
–°—Ç–∞—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã
[END]
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func logMessage(msg string) {
    defer fmt.Println("[END]")
    fmt.Println(msg)
}
```
</details>

---

## 3. –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –ö–≤–∞–¥—Ä–∞—Ç—ã —á–∏—Å–µ–ª
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ –≤ –∫–≤–∞–¥—Ä–∞—Ç –∏ —Å—Ä–∞–∑—É –≤—ã–∑–æ–≤–∏—Ç–µ –µ—ë.

```go
// –í–≤–æ–¥:
func() {
    x := 5
    // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
}()
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
25
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func() {
    x := 5
    square := func(n int) int { return n * n }
    fmt.Println(square(x))
}()
```
</details>

---

## 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –î–µ–ª–∏—Ç–µ–ª—å
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `divide(a, b int) (int, error)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ –Ω–æ–ª—å.

```go
// –í–≤–æ–¥:
res, err := divide(10, 0)
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
0 –æ—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, fmt.Errorf("–æ—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å")
    }
    return a / b, nil
}
```
</details>

---

## 5. –§—É–Ω–∫—Ü–∏—è –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ: –û–ø–µ—Ä–∞—Ü–∏–∏
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `operation`, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤—ã—á–∏—Ç–∞–Ω–∏—è.

```go
// –í–≤–æ–¥:
operation := // –ø—Ä–∏—Å–≤–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å–ª–æ–∂–µ–Ω–∏—è
fmt.Println(operation(2, 3))
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
5
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
operation := func(a, b int) int { return a + b }
fmt.Println(operation(2, 3))
```
</details>

---

## 6. –†–µ–∫—É—Ä—Å–∏—è + defer: –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `countdown(n int)`, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤–µ–¥—ë—Ç –æ—Ç—Å—á—ë—Ç —Å defer.

```go
// –í–≤–æ–¥:
countdown(3)
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
–°—Ç–∞—Ä—Ç
3
2
1
–ü—É—Å–∫!
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func countdown(n int) {
    fmt.Println("–°—Ç–∞—Ä—Ç")
    defer fmt.Println("–ü—É—Å–∫!")
    
    if n == 0 {
        return
    }
    fmt.Println(n)
    countdown(n-1)
}
```
</details>

---

## 7. –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è + defer: –°—á—ë—Ç—á–∏–∫ –≤—ã–∑–æ–≤–æ–≤
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ –∞–Ω–æ–Ω–∏–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å defer, –∫–æ—Ç–æ—Ä–∞—è —Å—á–∏—Ç–∞–µ—Ç —Å–≤–æ–∏ –≤—ã–∑–æ–≤—ã.

```go
// –í–≤–æ–¥:
count := 0
func() {
    // –í–∞—à –∫–æ–¥ —Å defer
    count++
}()
fmt.Println(count)
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ 3 –≤—ã–∑–æ–≤–æ–≤:
3
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
count := 0
f := func() {
    defer func() { count++ }()
    f()
}
f()
fmt.Println(count)
```
</details>

---

## 8. –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∫—É—Ä—Å–∏—è: –°—Ç–µ–ø–µ–Ω—å —á–∏—Å–ª–∞
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `power(base, exp int) int`, –≤—ã—á–∏—Å–ª—è—é—â—É—é base^exp.

```go
// –í–≤–æ–¥:
power(2, 3)
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
8
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func power(base, exp int) int {
    if exp == 0 {
        return 1
    }
    return base * power(base, exp-1)
}
```
</details>

---

## 9. Defer: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
**–ó–∞–¥–∞—á–∞:** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `withMessage()`, –∫–æ—Ç–æ—Ä–∞—è —á–µ—Ä–µ–∑ defer –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É "[OK]".

```go
// –í–≤–æ–¥:
func withMessage() string {
    msg := "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"
    // –í–∞—à defer –∫–æ–¥
    return msg
}
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
–í—ã–ø–æ–ª–Ω–µ–Ω–æ [OK]
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func withMessage() (msg string) {
    msg = "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"
    defer func() { msg += " [OK]" }()
    return
}
```
</details>

---

## 10. –ö–æ–º–ø–ª–µ–∫—Å: –†–µ–∫—É—Ä—Å–∏—è + —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä `sequenceGenerator`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ —á–∏—Å–ª–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1, 3, 6, 10...).

```go
// –í–≤–æ–¥:
gen := sequenceGenerator()
fmt.Println(gen(), gen(), gen())
// –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
1 3 6
```

<details>
<summary>üîç –†–µ—à–µ–Ω–∏–µ</summary>

```go
func sequenceGenerator() func() int {
    n, sum := 0, 0
    return func() int {
        n++
        sum += n
        return sum
    }
}
```
</details>

---

